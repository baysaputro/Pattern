{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/bay/Work/Pattern/pages/Pages/HocWrappers.js\";\nimport React from 'react';\nimport Loader from '../Components/Loader';\nimport { loadingAction, doneLoadingAction, setData, setTotalArticles } from '../Redux/Action';\nimport \"isomorphic-fetch\";\n\nvar HocWrappers = function HocWrappers(ChildComponent) {\n  var Component =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(Component, _React$Component);\n\n    function Component() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, Component);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Component)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_this), \"_loadDataArticle\",\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var page,\n            totalArticle,\n            _this$props,\n            dispatch,\n            dataArticles,\n            pageSize,\n            apiKey,\n            res,\n            data,\n            _args = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                page = _args.length > 0 && _args[0] !== undefined ? _args[0] : 1;\n                totalArticle = _args.length > 1 && _args[1] !== undefined ? _args[1] : 5;\n                _this$props = _this.props, dispatch = _this$props.dispatch, dataArticles = _this$props.dataArticles, pageSize = _this$props.pageSize;\n                dispatch(loadingAction());\n                dispatch(setTotalArticles(totalArticle));\n                apiKey = '3e6d0f91b9f14b00a5e63f63eb35ee8b';\n                _context.next = 8;\n                return fetch(\"https://newsapi.org/v2/top-headlines?country=us&apiKey=\".concat(apiKey, \"&page=\").concat(page, \"&pageSize=\").concat(pageSize));\n\n              case 8:\n                res = _context.sent;\n                _context.next = 11;\n                return res.json();\n\n              case 11:\n                data = _context.sent;\n\n                if (totalArticle > pageSize) {\n                  dataArticles = [].concat(_toConsumableArray(dataArticles), _toConsumableArray(data.articles));\n                } else {\n                  dataArticles = data.articles;\n                }\n\n                dispatch(setData(dataArticles));\n                dispatch(doneLoadingAction());\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n\n      return _this;\n    }\n\n    _createClass(Component, [{\n      key: \"_renderContentLoader\",\n      value: function _renderContentLoader() {\n        return React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(ChildComponent, _extends({}, this.props, {\n          loadDataArticle: this._loadDataArticle,\n          Loader: this._renderContentLoader.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }));\n      }\n    }]);\n\n    return Component;\n  }(React.Component);\n\n  return Component;\n};\n\nexport default HocWrappers;","map":{"version":3,"sources":["/home/bay/Work/Pattern/pages/Pages/HocWrappers.js"],"names":["React","Loader","loadingAction","doneLoadingAction","setData","setTotalArticles","HocWrappers","ChildComponent","Component","page","totalArticle","props","dispatch","dataArticles","pageSize","apiKey","fetch","res","json","data","articles","_loadDataArticle","_renderContentLoader","bind"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,SACEC,aADF,EAEEC,iBAFF,EAGEC,OAHF,EAIEC,gBAJF,QAKO,iBALP;AAMA,OAAO,kBAAP;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,cAAD,EAAmB;AAAA,MAC/BC,SAD+B;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAOC,gBAAAA,IAAP,2DAAY,CAAZ;AAAcC,gBAAAA,YAAd,2DAA2B,CAA3B;AAAA,8BAC0B,MAAKC,KAD/B,EACXC,QADW,eACXA,QADW,EACDC,YADC,eACDA,YADC,EACaC,QADb,eACaA,QADb;AAEjBF,gBAAAA,QAAQ,CAACV,aAAa,EAAd,CAAR;AACAU,gBAAAA,QAAQ,CAACP,gBAAgB,CAACK,YAAD,CAAjB,CAAR;AACIK,gBAAAA,MAJa,GAIJ,kCAJI;AAAA;AAAA,uBAKCC,KAAK,kEAA2DD,MAA3D,mBAA0EN,IAA1E,uBAA2FK,QAA3F,EALN;;AAAA;AAKXG,gBAAAA,GALW;AAAA;AAAA,uBAMEA,GAAG,CAACC,IAAJ,EANF;;AAAA;AAMXC,gBAAAA,IANW;;AAOjB,oBAAIT,YAAY,GAAGI,QAAnB,EAA4B;AAC1BD,kBAAAA,YAAY,gCAAKA,YAAL,sBAAqBM,IAAI,CAACC,QAA1B,EAAZ;AACD,iBAFD,MAEM;AACJP,kBAAAA,YAAY,GAACM,IAAI,CAACC,QAAlB;AACD;;AACDR,gBAAAA,QAAQ,CAACR,OAAO,CAACS,YAAD,CAAR,CAAR;AACAD,gBAAAA,QAAQ,CAACT,iBAAiB,EAAlB,CAAR;;AAbiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFgB;;AAAA;AAAA;;AAAA;AAAA;AAAA,6CAkBb;AACpB,eACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;AAtBkC;AAAA;AAAA,+BAwB3B;AACN,eACE,oBAAC,cAAD,eACM,KAAKQ,KADX;AAEE,UAAA,eAAe,EAAG,KAAKU,gBAFzB;AAGE,UAAA,MAAM,EAAI,KAAKC,oBAAL,CAA0BC,IAA1B,CAA+B,IAA/B,CAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAOD;AAhCkC;;AAAA;AAAA,IACbvB,KAAK,CAACQ,SADO;;AAkCrC,SAAOA,SAAP;AACD,CAnCD;;AAqCA,eAAeF,WAAf","sourcesContent":["import React from 'react';\nimport Loader from '../Components/Loader';\n\nimport {\n  loadingAction,\n  doneLoadingAction,\n  setData, \n  setTotalArticles\n} from '../Redux/Action';\nimport \"isomorphic-fetch\";\n\nconst HocWrappers = (ChildComponent) =>{\n  class Component extends React.Component{\n    _loadDataArticle = async (page=1,totalArticle=5)=> {\n      let { dispatch, dataArticles, pageSize } = this.props;\n      dispatch(loadingAction());\n      dispatch(setTotalArticles(totalArticle))\n      let apiKey = '3e6d0f91b9f14b00a5e63f63eb35ee8b';\n      const res = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${apiKey}&page=${page}&pageSize=${pageSize}`);\n      const data = await res.json();\n      if (totalArticle > pageSize){\n        dataArticles=[...dataArticles,...data.articles];\n      }else {\n        dataArticles=data.articles;\n      }\n      dispatch(setData(dataArticles));\n      dispatch(doneLoadingAction());\n    }\n\n    _renderContentLoader(){\n      return (\n        <Loader />\n      );\n    }\n\n    render(){\n      return (\n        <ChildComponent \n          {...this.props}\n          loadDataArticle ={this._loadDataArticle}\n          Loader = {this._renderContentLoader.bind(this)}\n        />\n      );\n    }\n  }\n  return Component;\n}\n\nexport default HocWrappers;"]},"metadata":{},"sourceType":"module"}