{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/bay/Work/Pattern/pages/Pages/Home/Component.js\";\nimport React from 'react';\nimport Status from '../../Components/Connection';\nimport Flex from '../../Elements/Flex';\nimport Label from '../../Elements/Label';\nimport '../../Assets/Css/bulma.css';\nimport { noConnection } from '../../Redux/Action';\n\nvar Component =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Component, _React$Component);\n\n  function Component(props) {\n    var _this;\n\n    _classCallCheck(this, Component);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Component).call(this, props));\n    _this.scrollArticle = new React.createRef();\n    _this.handleScrollBoxArticle = _this.handleScrollBoxArticle.bind(_assertThisInitialized(_this));\n    _this.page = _this.props.page;\n    _this.state = {\n      offline: false\n    };\n    return _this;\n  }\n\n  _createClass(Component, [{\n    key: \"handleScrollBoxArticle\",\n    value: function handleScrollBoxArticle() {\n      var _this$props = this.props,\n          dataArticles = _this$props.dataArticles,\n          loadDataArticle = _this$props.loadDataArticle,\n          pageSize = _this$props.pageSize,\n          loading = _this$props.loading;\n\n      if (dataArticles != null) {\n        if (window.scrollY + window.innerHeight >= document.body.offsetHeight && dataArticles.length && !loading) {\n          this.page++;\n          var totalArticle = this.page * pageSize;\n          loadDataArticle(this.page, totalArticle);\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n          loadDataArticle = _this$props2.loadDataArticle,\n          page = _this$props2.page,\n          totalArticle = _this$props2.totalArticle,\n          errorStatus = _this$props2.errorStatus;\n      window.addEventListener('scroll', this.handleScrollBoxArticle);\n\n      if (navigator.onLine) {\n        console.log('online');\n        loadDataArticle(page, totalArticle);\n      } else {\n        console.log('offline');\n        this.setState({\n          offline: true\n        });\n        dispatch(noConnection());\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this.handleScrollBoxArticle);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var offlineMsg = this.state.offline ? React.createElement(Status, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      });\n      var _this$props3 = this.props,\n          dataArticles = _this$props3.dataArticles,\n          Loader = _this$props3.Loader,\n          loading = _this$props3.loading,\n          totalArticle = _this$props3.totalArticle,\n          pageSize = _this$props3.pageSize,\n          status = _this$props3.status;\n      console.log('status');\n      console.log(dataArticles);\n      console.log(this.props.status);\n      return React.createElement(\"div\", {\n        className: \"container\",\n        ref: function ref(_ref) {\n          return _this2.scrollArticle = _ref;\n        },\n        onScroll: this.handleScrollBoxArticle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, offlineMsg, dataArticles.map(function (article, i) {\n        return React.createElement(\"article\", {\n          className: \"media\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"figure\", {\n          className: \"media-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"image is-64x64\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: article.urlToImage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"media-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, article.title), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }), article.description, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }))), React.createElement(\"nav\", {\n          className: \"level is-mobile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"level-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"level-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"icon is-small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-reply\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }))), React.createElement(\"a\", {\n          className: \"level-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"icon is-small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-retweet\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }))), React.createElement(\"a\", {\n          className: \"level-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"icon is-small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-heart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        })))))), React.createElement(\"div\", {\n          className: \"media-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"delete\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        })));\n      }), loading ? React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }) : []);\n    }\n  }]);\n\n  return Component;\n}(React.Component);\n\nexport default Component;","map":{"version":3,"sources":["/home/bay/Work/Pattern/pages/Pages/Home/Component.js"],"names":["React","Status","Flex","Label","noConnection","Component","props","scrollArticle","createRef","handleScrollBoxArticle","bind","page","state","offline","dataArticles","loadDataArticle","pageSize","loading","window","scrollY","innerHeight","document","body","offsetHeight","length","totalArticle","errorStatus","addEventListener","navigator","onLine","console","log","setState","dispatch","removeEventListener","offlineMsg","Loader","status","ref","map","article","i","urlToImage","title","description"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Status from '../../Components/Connection'\nimport Flex from '../../Elements/Flex'\nimport Label from '../../Elements/Label'\nimport '../../Assets/Css/bulma.css'\nimport { noConnection } from '../../Redux/Action';\n\nclass Component extends React.Component{\n  constructor(props){\n    super(props);\n    this.scrollArticle = new React.createRef();\n    this.handleScrollBoxArticle=this.handleScrollBoxArticle.bind(this);\n    this.page = this.props.page;\n    this.state = {\n      offline: false\n    }\n  }\n\n  handleScrollBoxArticle(){\n   const { dataArticles, loadDataArticle, pageSize, loading } = this.props;\n   if (dataArticles!=null){\n    if ((window.scrollY + window.innerHeight>=document.body.offsetHeight) && dataArticles.length && !loading){\n      this.page++;\n      let totalArticle=this.page*pageSize;\n      loadDataArticle(this.page,totalArticle);\n    }\n   }\n  }\n\n  componentDidMount() {\n    const { loadDataArticle, page, totalArticle, errorStatus }  = this.props;\n    window.addEventListener('scroll', this.handleScrollBoxArticle);\n    if(navigator.onLine){\n      console.log('online')\n      loadDataArticle(page,totalArticle);\n    } else {\n      console.log('offline')\n      this.setState({offline:true})\n      dispatch(noConnection());\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScrollBoxArticle);\n  }\n  \n  render(){\n    let offlineMsg = this.state.offline ? (<Status />) : (<span></span>)\n    const { dataArticles, Loader, loading, totalArticle, pageSize, status } = this.props;\n    console.log('status')\n    console.log(dataArticles)\n    console.log(this.props.status)\n    \n    return (\n      <div className=\"container\" ref={ref=>this.scrollArticle=ref} onScroll={this.handleScrollBoxArticle}>\n      {offlineMsg}\n      {dataArticles.map((article,i)=>{\n        return(\n          <article className=\"media\" key={i}>\n            <figure className=\"media-left\">\n              <p className=\"image is-64x64\">\n                <img src={article.urlToImage} />\n              </p>\n            </figure>\n            <div className=\"media-content\">\n              <div className=\"content\">\n                <p>\n                  <strong>{article.title}</strong>\n                  <br />{article.description}<br />\n                </p>\n              </div>\n              <nav className=\"level is-mobile\">\n                <div className=\"level-left\">\n                  <a className=\"level-item\">\n                    <span className=\"icon is-small\"><i className=\"fas fa-reply\"></i></span>\n                  </a>\n                  <a className=\"level-item\">\n                    <span className=\"icon is-small\"><i className=\"fas fa-retweet\"></i></span>\n                  </a>\n                  <a className=\"level-item\">\n                    <span className=\"icon is-small\"><i className=\"fas fa-heart\"></i></span>\n                  </a>\n                </div>\n              </nav>\n            </div>\n            <div className=\"media-right\">\n              <button className=\"delete\"></button>\n            </div>\n          </article>\n        )\n        })}\n      { loading ? <Loader /> : [] }\n      </div>\n    );\n  }\n}\n\nexport default Component;"]},"metadata":{},"sourceType":"module"}