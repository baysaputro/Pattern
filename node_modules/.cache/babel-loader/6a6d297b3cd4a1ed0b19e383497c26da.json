{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/bay/Work/Pattern/pages/Services/API/news.js\";\nimport React from 'react';\nimport Pages from '../../Pages';\nimport \"isomorphic-fetch\";\n\nfunction News(_ref) {\n  var dataArticles = _ref.dataArticles,\n      status = _ref.status;\n  console.log('1');\n  console.log(dataArticles);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, \" \", React.createElement(Pages, {\n    status: status,\n    dataArticles: dataArticles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }), \" \");\n} // Page.getInitialProps = async ({ req }) => {\n//   let inet = CheckInternetConnection()\n//   console.log(inet)\n//   let apiKey = '3e6d0f91b9f14b00a5e63f63eb35ee8b',\n//   page       = 1, \n//   pageSize   = 5;\n//   const res = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${apiKey}&page=${page}&pageSize=${pageSize}`);\n//   const data = await res.json()\n//   console.log(data)\n//   return { dataArticles: data.articles }\n// }\n\n\nNews.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, apiKey, page, pageSize, status, res, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req;\n            apiKey = '3e6d0f91b9f14b00a5e63f63eb35ee8b', page = 1, pageSize = 5;\n            status = false;\n            _context.next = 5;\n            return fetch(\"https://newsapi.org/v2/top-headlines?country=us&apiKey=\".concat(apiKey, \"&page=\").concat(page, \"&pageSize=\").concat(pageSize)).then(function (response) {\n              if (!response.ok) {\n                throw Error(response.statusText);\n              }\n\n              return response;\n            }).then(function (response) {\n              status = false;\n              return response;\n            }).catch(function (error) {\n              status = true;\n              console.log('3');\n            });\n\n          case 5:\n            res = _context.sent;\n\n            if (!status) {\n              _context.next = 11;\n              break;\n            }\n\n            console.log('2');\n            console.log(status); // return { dataArticles: [], status: status }\n\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.next = 13;\n            return res.json();\n\n          case 13:\n            data = _context.sent;\n\n          case 14:\n            return _context.abrupt(\"return\", {\n              dataArticles: [],\n              status: status\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}(); // Page.getInitialProps = async ({ req }) => {\n//   console.log(!navigator);\n//   if (!navigator){\n//     return { dataArticles:[] }\n//   }else{\n//     if(navigator.onLine){\n//       console.log('online');\n//       let apiKey = '3e6d0f91b9f14b00a5e63f63eb35ee8b',\n//       page       = 1, \n//       pageSize   = 5;\n//       const res = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${apiKey}&page=${page}&pageSize=${pageSize}`);\n//       const data = await res.json()\n//       return { dataArticles: data.articles }\n//     } else {\n//       console.log('offline')\n//     }\n//   }\n// }\n\n\nexport default News;","map":{"version":3,"sources":["/home/bay/Work/Pattern/pages/Services/API/news.js"],"names":["React","Pages","News","dataArticles","status","console","log","getInitialProps","req","apiKey","page","pageSize","fetch","then","response","ok","Error","statusText","catch","error","res","json","data"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAO,kBAAP;;AAEA,SAASC,IAAT,OAAwC;AAAA,MAAxBC,YAAwB,QAAxBA,YAAwB;AAAA,MAAVC,MAAU,QAAVA,MAAU;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AACA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAM,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEC,MAAf;AAAuB,IAAA,YAAY,EAAED,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAN,MAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAD,IAAI,CAACK,eAAL;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,GAAT,SAASA,GAAT;AACjBC,YAAAA,MADiB,GACR,kCADQ,EAErBC,IAFqB,GAER,CAFQ,EAGrBC,QAHqB,GAGR,CAHQ;AAIjBP,YAAAA,MAJiB,GAIJ,KAJI;AAAA;AAAA,mBAKHQ,KAAK,kEAA2DH,MAA3D,mBAA0EC,IAA1E,uBAA2FC,QAA3F,EAAL,CACjBE,IADiB,CACZ,UAASC,QAAT,EAAkB;AACtB,kBAAG,CAACA,QAAQ,CAACC,EAAb,EAAgB;AACd,sBAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACD;;AACD,qBAAOH,QAAP;AACD,aANiB,EAMfD,IANe,CAMV,UAASC,QAAT,EAAkB;AACxBV,cAAAA,MAAM,GAAC,KAAP;AACA,qBAAOU,QAAP;AACD,aATiB,EASfI,KATe,CAST,UAASC,KAAT,EAAe;AACtBf,cAAAA,MAAM,GAAC,IAAP;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACD,aAZiB,CALG;;AAAA;AAKfc,YAAAA,GALe;;AAAA,iBAkBlBhB,MAlBkB;AAAA;AAAA;AAAA;;AAmBnBC,YAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,EApBmB,CAqBnB;;AArBmB;AAAA;;AAAA;AAAA;AAAA,mBAuBAgB,GAAG,CAACC,IAAJ,EAvBA;;AAAA;AAuBbC,YAAAA,IAvBa;;AAAA;AAAA,6CA0Bd;AAAEnB,cAAAA,YAAY,EAAE,EAAhB;AAAoBC,cAAAA,MAAM,EAAEA;AAA5B,aA1Bc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA,I,CA6BA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAeF,IAAf","sourcesContent":["import React from 'react';\nimport Pages from '../../Pages';\nimport \"isomorphic-fetch\";\n\nfunction News({ dataArticles, status }) {\n  console.log('1')\n  console.log(dataArticles)\n  return <div> <Pages status={status} dataArticles={dataArticles} /> </div>\n}\n\n// Page.getInitialProps = async ({ req }) => {\n//   let inet = CheckInternetConnection()\n//   console.log(inet)\n//   let apiKey = '3e6d0f91b9f14b00a5e63f63eb35ee8b',\n//   page       = 1, \n//   pageSize   = 5;\n//   const res = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${apiKey}&page=${page}&pageSize=${pageSize}`);\n//   const data = await res.json()\n//   console.log(data)\n//   return { dataArticles: data.articles }\n// }\n\nNews.getInitialProps = async ({ req }) => {\n  let apiKey = '3e6d0f91b9f14b00a5e63f63eb35ee8b',\n  page       = 1,\n  pageSize   = 5;\n  var status     = false;\n  const res = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${apiKey}&page=${page}&pageSize=${pageSize}`)\n  .then(function(response){\n    if(!response.ok){\n      throw Error(response.statusText)\n    }\n    return response;\n  }).then(function(response){\n    status=false;\n    return response;\n  }).catch(function(error){\n    status=true;\n    console.log('3')\n  });\n  if(status){\n    console.log('2')\n    console.log(status)\n    // return { dataArticles: [], status: status }\n  } else {\n    const data = await res.json();\n    // return { dataArticles: data.articles, status: status }\n  }\n  return { dataArticles: [], status: status }\n}\n\n// Page.getInitialProps = async ({ req }) => {\n//   console.log(!navigator);\n//   if (!navigator){\n//     return { dataArticles:[] }\n    \n//   }else{\n//     if(navigator.onLine){\n//       console.log('online');\n//       let apiKey = '3e6d0f91b9f14b00a5e63f63eb35ee8b',\n//       page       = 1, \n//       pageSize   = 5;\n//       const res = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${apiKey}&page=${page}&pageSize=${pageSize}`);\n//       const data = await res.json()\n//       return { dataArticles: data.articles }\n//     } else {\n//       console.log('offline')\n//     }\n//   }\n// }\n\nexport default News;"]},"metadata":{},"sourceType":"module"}